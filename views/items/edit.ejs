<% layout('layout/boilerplate') %>
    <div class="row">
        <h1 class="text-center">Edit Item</h1>
        <div class="col-6 offset-3">
            <form action="/items/<%= item._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
                <div class="mb-2">
                    <label for="name" class="form-label">Item Name</label>
                    <input type="text" id="name" name="item[itemName]" class="form-control" value="<%= item.itemName %>" required>
                </div>

                <div class="mb-2">
                    <label for="description" class="form-label">Item Description</label>
                    <input type="text" id="description" name="item[itemDescription]" class="form-control" value="<%= item.itemDescription %>" required>
                </div>

                <div class="mb-2">
                    <label for="unit" class="form-label">Item Quantity Unit</label>
                    <select class="form-select form-select-lg" name="item[itemUnit]" id="unit" required>
                        <option selected><%= item.itemUnit %> </option>
                        <option value="NOS">NOS</option>
                        <option value="PCS">PCS</option>
                        <option value="PCS">BAGS</option>
                        <option value="BOX">BOX</option>
                        <option value="KGS">KGS</option>
                        <option value="SETS">SETS</option>
                    </select>
                </div>

                <div class="mb-2">
                    <label for="quantity" class="form-label">Item Quantity</label>
                    <input type="text" id="quantity" name="item[itemQty]" class="form-control" value="<%= item.itemQty %>" required>
                </div>
                <!-- Add the input field for Life -->
                <label class="form-label" for="life">Daily Consumption</label>
                <input class="form-control" type="text" id="life" name="item[life]" value="<%= item.life %>" placeholder="e.g, 1 HEATS, 5 HEATS, 1 DAY,">
                <div class="mb-2">
                    <label for="category" class="form-label">Item Category</label>
                    <select class="form-select form-select-lg" name="item[itemCategoryName]" id="category" required>
                        <option selected disabled><%= item.itemCategoryName %> </option>
                        <!-- <option disabled selected>Select Item Category</option> -->
                            <% for(let category of itemCategories){%>

            <option>
                <%= category.itemCategoryName %>

            </option>

            <%} %>
                        <!-- <option value="CCM REFRACTORIES">CCM REFRACTORIES</option>
                        <option value="CCM SPARE PARTS">CCM SPARE PARTS</option>
                        <option value="FURNACE CONSUMABLES">FURNACE CONSUMABLES</option>
                        <option value="FURNACE REFRACTORIES">FURNACE REFRACTORIES</option>
                        <option value="FURNACE SPARE PARTS">FURNACE SPARE PARTS</option> -->
                    </select>
                </div>
                <div class="mb-3">
                    <label for="supplier" class="form-label">Item Supplier</label>
                    <select class="form-select form-select-lg" name="item[itemSupplier]" id="supplier" required>
                        <option selected disabled><%= item.itemSupplier %> </option>
    <% itemSuppliers.forEach(supplier => { %>
      <option value="<%= supplier.supplierName %>">
        <%= supplier.supplierName %> (<%= supplier.supplierCity %>)
      </option>
    <% }) %>
  </select>
                </div>
                <% for(image of item.itemImage){%>
                    <label class="form-label" for="image"><b>Current Image Name:- <%= image.name %></b></label>
                    <input class="form-control img-fluid" type="file" id="image" name="item[itemImage]">
                    <button class="btn btn-success my-2" onclick="return confirm('Are you sure you want to edit this item?')">Save Item</button>
                    <%} %>

            </form>
        </div>
    </div>